# Day 04

## Part 1

> Validate the given passports:
> `cid` (Country ID) is optional,
> the other 7 fields are not.

Nothing fancy here;
just splitting, trimming and some array methods:

```js
const input = `
  ecl:gry pid:860033327 eyr:2020 hcl:#fffffd
  byr:1937 iyr:2017 cid:147 hgt:183cm

  iyr:2013 ecl:amb cid:350 eyr:2023 pid:028048884
  hcl:#cfa07d byr:1929

  hcl:#ae17e1 iyr:2013
  eyr:2024
  ecl:brn pid:760753108 byr:1931
  hgt:179cm

  hcl:#cfa07d eyr:2025 pid:166559648
  iyr:2011 ecl:brn hgt:59in
`.trim()

const passports = input.split('\n\n').map((passport) =>
  passport
    .trim()
    .split(/\s+/g)
    .map((field) => field.split(':'))
)

const requiredFields = ['byr', 'iyr', 'eyr', 'hgt', 'hcl', 'ecl', 'pid']

const validPassports = passports.filter((passport) => {
  const fields = passport.map(([key]) => key)
  return requiredFields.every((requiredField) => fields.includes(requiredField))
})

console.log(validPassports.length)
```

[_Try it out on flems.io_](https://flems.io/#0=N4IgtglgJlA2CmIBcBGADGgNCAzvBAxgC7xTK4D2sArkRBQHYB0AVjiNgGYQLtIDaoBgEMwiJCAgMADrVbtsBRiQZFyShjiIACKbJ0BebQAMAOg23b4ATwBOSAExoHAFm3ToSAGxfXaH67aABYEsEgAxAScwmgA7FDaAEZ2qACcLrG6KU4oAKxWoUiiicEA5kSouWgEYObmlhDZaCgAzEkpKKmpmUHlqAAcDjXBhZHwiS3CKPVWTQ6xM-CFpbbW2gSe6A7uns39KA79uS25dRZlFV4oUln2OW4eUEipKF4tebkubiFh4bEtLUGaAKYQoRCCZ0sPwiwm6-RcDkWcy87XsnX6wKWYRWFkeSFiDi8uU6uS8qQuAxcww2T1a20ad2a0wYi2Wtgs0PCXkSnwROyeV26LhaDk6608ZIpKFiXmGNkZ81ujmaiPOyTRqQxkJBSES7NRaUlDOVKBcM16FVeVLAswVwLxmvmqR8AJGvy8zlS821WKQpTARBmxvRmXlypa5LxeRQ0beBqc-nNhUS0USaCg2ppqGlSd+8E4BAImqDTXQ-KQIvmnRQ-Ra5r60tltXOYacThm6rSuQWLeT7O1nZJ3wbsX6w05gM4sU4CTxtf6+xFvh1iRoSIV5ONOVSPrmbV9xSVbeBg69mTxrgc3bQC5RnJr0pQCQtaSGzZLGtSwKzDlS+RfrQoOWNaxMMnb3KyYQAB6rG6SAAF7rq+-Q+oUQTwbAHYdH+dYtnucHhP0PhHD2UINvswxbs09qeKS+xHKSPZYYyLTApynAcRxCS+uEwguMIuTOlKXhjs2DTYS0KKts436eL+KJRiJo4+DKA5NKxR7OFJ2GxN8hTTgQwgCTqtAEDMUZfjU9aXKB75qvh0ktD0fSCVZvZhLA8G2HB8GaYS5bhPAsI3rhzHKmgbTQr5L4vEqnRfrayqBDxBwtFA-zmZ4LjwukDisWpCrbNJTiaRpvr+oG5wAS8wx4icaCpACBzHARC79KOpwsucwZdGa7kRAQaWkm44EYDuVUNr446FACXguJqAXwF0UANTMP4LkhnSigVr5uD+CVUWWB5gCUxVoNZlRNgR8QtGmBDlrEf7zbEVqZp4rFAYdzk2W5UKjG1HU6uEaAuGguSJOSp5zQ9cQkcS-SJZ0qldZY5WwXiGTChF-heB+JpAfe+wvc+k25GB2GiolbZ9bmETcryRWFIeVEldVKC-QanTzeKTwfZlTxxLk8JEoMVOetqnKwqOfJZjWKKHX1qNstYF3VnK+F4nNuSfP0zrjZYp6ktqUafNNYS+eVAZxZq5IvmSNxZi1o3oBLfQEuTCq4aj6l6ebQOcLkripPA1vdAFj3CFOwi7ixCPO51ZEVLE1Q2mjOjQqkUBC1M1v+Zrv4NYcCLnSj5a+De3aPW4xWqgb2FVKrrliQRBDjJMQHHSUh2dZtT1A8IiRDPADyeOEprwKQGbdU0q1VYUv7D-CYVttsL7-G5F1N-GWk844Lj5CzJfexu5ZxBGwoHOSvroZhc+-IkPiB9HpcK9veQEVL8JFXM+sBXSDUoQmpaKoOowQQlLgBYkNweLOniNzYqd5RgPmJvzCsX9WIEhRKeFoitNI1m1IfMWlNsHnk8P8KoGQnJAVloJFcNApSxFsgRBwDhEiMJpv1PUHJRj0y+NsKM0oMQygWrLMGeCsE6W+gMFoG9+o3wIrwvk2CvZ4MjO9bK2UvDJ1rkQtiDZGqyLrhqQ4kE-SrCQm2BG7FOIznLN2GM81-C-0OqvEcZM7KWDqoJdAgxix4QVFIvIokdTM1LLjO+dNPTehfnMTI8dVYvBuFGGSAIPo6hgirfx4YCY8KiUxfqYDd6vEioUXyCswpc2HJadezdiqkKeMDQOVJmSmK4cvbGFIXrqw1O8IpRI8FsVGFEGI8RUFVGdMXPxqsfB+VkrzG8FjnD8M8H+EGbxA6kTfpsqKqEwjFEWXlTmXpcEOmooCZwUjk5SDxjkQZ5sdpIx0YdFR0IoA+FSMIEmlxrS71cKGJBHzhD+WKqFIB+Icm-BsTOCp3QUSiIRo5QBStsS2B0IdBGFkU4ENLJsqG+42QcjcRzRSDU8jzExHMKxQzohxCnmMskulmgaQAl0m0nJ-iAnbP1FYaxipuEIaeDKpcSE3OaFJZWUoKI2jxIHaUYNBg9FGA-IkDhhBEMyPtHuYK8hXV9KuagqjWrEW7KggILgQI1m3hgIhHCjFpBemXRqVwPRdFpoFAsRYkUMPceInUPKDmgvEoyVoBzcFo0yZ4rKppfyfFiqeIiqsFxmwiMqp+MckrbEFQfOYR8-X6izCJD+cIESN3ZtKuSv4MTn0Db8oWeCdHXwwu05oBzmR-V+ERES3ZyxdDBl+UUgT3YeN3gCSG9dFUduNfUiswpsoYCuGLCMCSy2iu2v1Uyb0niHAhQhOh1B2klSjEudIrFtJ2mtscCWuTfzRLtZ0V0xUvUASJHKCV6Ky5Cw0VcfJyKkBgMTcE2WZY8RgwZaSA6YSjkgJBS3GlozS5ZhwavUYULuJzBOZsY42ssNjo1LpUxPKpQ1RtIfHa24gavDQKQfc2Eug+TWpsFwClNh-jJBGAkUom7YuDfkRyejLTEaOY9UxgUCDZX+D29IMYnJEVgyMul5wZWByai6gj-ZtWsqIch++j9VWrpPBJFpGmmGHRok8RqoMhYNV-mdVpa57Iai0Qx2kBxrpQFutUbjSUn0NkBM5gYdyEIHOWbzQ4RIfC+CAqNZw6bjyis6G6z+fIozzVNO1aDfZCXANSBzeN1D3pLoQ+osNcwovYULXiRhjCiIg02WjLLr5k2EQXB1eLWrE6oBqYs-KES-gAiBGXLYhI5qZvrntTwWpp7BvxWEfVDyuhXz3KYw8DoDimmJCY7VUq2tFulqqA5gSk3NxA0I6M+8CI4JQPAVoeCVG+n-Q5w07WGEpyg8CZ5qDqKfEESVgJOp4IA9psIW6wh4CAISa9vlQMvBQFbrDntDV3jOiXlN-GUHbalKKYMWLzgvWHUQe6PKQLODlicPCaU3ZRvGPJLLJyOob7TNsle90PI+FqeFRJL1MHENxE3qkG4r8Lxg0JPsfextdiY11ocXjyI3WptVUcrlQaTQJ0lTI1Oytdm6noZyKo-Qwdd0g2GIcnGy2nyIrEDZIDTxcvi2VjU+xJVNn8zGCddNWd8k7qgy3IkME3YQTjundU5pMYyHWqKeaIENlc887eLCtcM-OAW-Imsq7tS5jC2Tz6ctsupfJoh2bpubtfDCymeJwi5E4GD3pPFOCJEHhDCkU1U46U+uh2miEIF59pUQ8JHXdLXNR9uUxGTTUsLJAAqnaRselwQXYvKxJKf8tLG0QVkVJpM+5fqTknaSJkbGr3I45YNHPWaNXUYaAUxRHpLR7YtOd0RjeWmBhsRB8HPe0bzLLc245yhsxgUzokWpIcy3gOiL4gkb+2qPgTWN0d08WfeK4+omKHMtmj2CYRmx8SUba9aCiHuDaTMJ0wkOeqCeseQGARwpez2eq2+RKNop4XovqGMZKDUmC6q-mHGO+U6XmOQ2yowHKA22CCKOapOukmif4Vik06uzOSALgAcMA+WvMkkke1svS+cBwhwzQ3Q7Srwi62y5Er+XU8WcS2EoMBewEZBjoYikCK6W+RWtI8evWii+2vW+YhYfiyux4MMT0RwGQDCxBWSTgZUEqWaxeA6rULWR+xUNmaEGEt2wEHoYMOCX40yV09BzhmB1MWOCM+OcEHEkwtCvoGSpOzoJwlurmo0hIrswCPypmdmBqlWcq5qbwI0FMCMsseUB2iWxa6R5YEY6AMYTgvGMRsARGZuORj6vyju2CtqRydOdsuQg+kaAoWi3Qxwos4avyycNq8WPRLKOep8RIgc7UHRvWAMR+JCRCeOK+9OTaMSf2P4C6jk-yvwcO8QKemGm+7aFYwgGIBA9uSUts+hkBGRuOjcTC7K-WSuOBeq9ChsIWzwZBbwhIbQiGJwOOhynIrhnqx+X4vggkXwRyjxBKnGPq6KoRvhF4QivIj8RC2B924Iy6uWrR8WJShOkwDgnAOOeQB62B0IoMUAHJ90ds+xJs+xlslUqslu3SaQDBiGhwpObwMY1mzxEQ8AxwNsb8vsMI3Rfk4SqCqWEYWiNesSDCb4CiROHJu8DBX0RytYke0h4QqG8Wcc2EdpDR+8Lwpo5+KKFgxUvJk0WKs+sSF0bw0CyYsJrp067GJRcQmQ76nIrcEwUw6Jehlo8IHMnIThOB8a3p2u9RLGvgxxYMXm8UXOwx3uxx6AJwQk9B2BP4lui6v8LKPy0I6Yqqby3B1EBEWJ7hRyDB8x0pgRGK70tYeUHormBaCKhQnktgVRaQaADsmwt6RyFJtEeQBIQIGOvw-BJUr8ncuinZ0olxbqvg7JnJj2nQ0M9WwEmoTGjC6QRBhiJkRAZkYKW80WcZ6kua0IsQwgYmUAp06kw5DSBI-gBAepQ+1EHetJiBUe1SKJE2CBFkCIoMj0-xSMz2DoOCG5HoOCIZUhqO8U38LEWpPgEUKAp0bIOgNu40YyjUEYusIMsxm4pYW5KaumaqGxIKF0ycT5tZ8WgJloc0tUckgwRwrgMYI6phXuvWl212NGAS6Juae5xJnBXagSQsTJPSQEdUA62UgkP6VpLpnshq5e2UU4qQ55Xx68C4xF9q6+wC1ws+hQG6dxSULySCRMT4YyLCooUujZzaEhScZpPEAF-QUApoJZgBmxv24YI89hV4SJOi0W4qYQUADA8AtMmoZMDgCmXxjpK0AIiQByqVeZ8BMKLUkCnxdiWknQEUEFdqOQ7xtIW8LMqukCwSxuJ6Pk9pzls29C+OqCX8oMDUDcvWO5uaDxCBdSsx-pQlNhRhRGr29B8V+I-g14sCpi8ihMj4U8lgssk2LuYcQu80gcEWISJ0PFC5FgOR2CBOEQmoBAiQ8AClSUmFtE2s80Lwm2d63QBMbsTl-mdpMJ+6vWwyPedSCesR5Sim70IM268IvyTkkpZup4fIO+ERMuDuDVBeYyj0gIxwWx1UBF+VBADUTGJOgqLFwa01BBJQ60MxURK5-+jgo4VYMa7Obq4N8Qmxc1nWb4+m4uTw-wFOhIpouitpKiP42UoC4IfhHMNp1inEeV9GSeckEUi6jMvwLQnAmcaUTePqGM8NwsC4+QzsziJhONLKZuXFwZkFIa417md0PaLCptwmF5f4VBX+z6PyUMbFkQKYOWaiAsLCBI80jufGcR0tMxz6Zpgqy+PGLtluV45NF27mTIe6Aac565KBOaqCLCBwRE3VStXEF1huwaxlaQYublw+ARzgZttGUZ5qvIIoDlnWPyQGd25ZpcR6OUgR2mSAL1xwzgQMhkoOUAmVWS962B0W-1wC8stG4OsN5ma2QIGkB1glqAy4nI8wsQEwFt02RCq+Dk4ZoNB2BETpnC6m+1cNCdJoEijmv8c4EWgskl1UAtcF3gLgixZdFVXqlWTgwoUmTypYWNGa3+SZGBNqnG-hSxAwykG5bQg1BSctJd0KHtG0fVD16AKYU+l51NaOEeUOMqj0VQKdOioibd0o1oQt4KRdrg2sByVxNNJ5eSdRUGuCP4xIkqH9raF25q8lv9HtroexlEpYOluwtY0oeUrwUVC0RDJhuCKVx+xwkk7UfmUBmIowmcAknAChjgVwDpsBnm9tPmQlPyZ0K5Wj-VZ9y9zwjUycrwMolxeaEaUGO6zW7UR+QGCBpG2qXoT5CjLEXdHkXkfkNO70-kdswSFRSFKyWiKFCWXevwSWWtuo19iu35I46ueCquxDmwwiWiEW82ZUcwzV+IXoZI5q7wkpYpmWXRe2bW2dWiHshoFKhU3ZHqvZWY7Ue69a+p7wi+faDp3Ne1R9AGr6Pp5u65gk3agh-TNdXZa+LuCyddlRdjC4mhMYnw4RXj-45ENhv6bSQZCobewaBmGo6NfBTt1QNxIxc4REEllTDCC1atTwTstGKiJskO6k7V-0mNnGOTKUhwhIN+pzWu-qdj2GnpaWbqE1WmnGNRpYyVEk+QqJS9+V8uz8cDtYgI-wwsCzHWTjg5zgx9DujN7enCEZGojDvWWLdi0oqx7wC95zwkzuPdmwAIHUyddRoaMKQqHhmhF9NiYzP4ShLKBF-mvl2hrJu6jkLNohhpuko4sFoqzKfQze2dBiNoXDTZnlu1nNHtf4D08wmzYM7T4YH+5zIz5NXgJO9ZYDJulWBINYTGJwQMMony6UVqBDOQQVlQrzv6FeDgpAaAJOjksrY8Xls4WUlu0Z2UMKTGfk-rgiT5LinGH9IJioNuM26TyTEQyCT4DLTkrtC4RSL0nZv4qsb9mOPEAIL1iQ90XVPWv1OCPaoMkk-wuxDYpsLeCoWpXIeBeCuKOkYadNx+ycyOJwCFvM1diaLZPC0oTkYDli-LQxoIDJpjD0JwQs31ONDxvJ3ePNF4rQTK7Gia1VGxyDJ5FpVlQMSRc0gFjIDU8R+xFRKbZICtlK6JvrYqme7V+iZpmZeSfSdWp9ZcZONYxIJcByv8UMZZNjiaOTh0Ej5mymMopogW7qbhGLsymeqHSARwTKVw8ClKMDMBNzr5Rz6mrSSBWUGI+80u-rRIi5s7FrK8ibCBwHN6n5PG2dHBtb9c2RJh-x5GdUusXQszHchQ6Vk9B6-4hQVI4VBAYzLKBhIm2sbyaJbz9qPaMYXolOeMW0HcQFlb06eQNDW2CxFgzsDa6k91+YUAGQYzPEc0ut4VQNONTNc4JbDD7815YrHj8Lh0TZPbsDQmhlDouk8M-WhJA7ozyhfGIZgN9ttFqXCSDgrHzwsVW0KLxiCnfsvopkAUN4BwPgKZhqcpldl5HjWZINL+IlW6JwCIWituHtgkByquc4X4EUTGV4st4CHWvgWXOCVK25kJMHUBYxpYwFCJzqcQsU9WFVHjXwhVnFZT2dmldBJhYLJoA9XIbDazpVhGmsG27w-gk3v68iiGphJ2VTooC68a91vEOpZJazZjAwgbmddjprXoIuGqckgIeCKbxwJLy5UMfz43nKl3R9vyN4DCwSE4AjN2FxF4X4mo6Aj0AyvVbqZxeTdNibbQSmmotWOhc+z67LgrSTJBGQUjpIITZibjUMWHclDtVPd42TYPaXRzA1kGADbrTgEmmZt7TDRGcdQn++a6IJOhEePUZbp307J6Im9e2st0qsV4DpPZ1XJRxRIMAIooJnJljat8RLQ6t2h567ebB6kbhbYzulqj-g7tRLX40CS2HLwt+8CT3Q-GW9PzpziulvhGSPV2N23cUrWhJzWBdFc0MYbwKiaNKp+qRSsUwfgjz6wSIXgeZmD1zgwg3IocbuMYnAhpkqMTG3-Usn6JquKVuPALxvkq1V6bIG0o2iYl82ZbO1xMqiqCSp3i6eW1txRLHoudG4WuxzpNtrJOVEGkF4IeIMSytpVSSAW80koMtDBl5yp6erLxcG3EVFjcQL6kuG9qyl5fbql9grLCceXH5E2fa9xI52jk42LmU5YQrliauqsuV9izN2O+nAVIqQEoM3y0gRQIwK5XDvuU75FtCEF4WZiqHFqCoU22rKVnGBrjNNpuidZ2NXBnhfMyEN4cQscTzSVQvi--PiD1klJ+8sCenYpAqmf7ZgLmhoXNnNntoFdUApAPPozUKCFI0am9ahk1lt4ItM+djViELEpzkCt8awSWDqSi5IxMeD9cKLt1rpEsjswWJGhAJNIXhRQgzPXtj0gR1MbGfZMbu7gZgOk8epeM9OAwxj9ZYY4tJbvbSyZpkvu15H2q0xJAeMBBWYBsnOH3h65t0MFL6LQ0dKCRG2dWSMqMWTS+QKiuCOXs9mF5nkcSukX8Mq0TThd40oQv7OmyzDGtje++DANMncSLUZUlSEUAwSZrS0sOqTXlnYW8DToIoviboPhjWZINQG8tbbpc3cHRshGzaXNMVEt6FIAhwgy7J8A9C8FIUIrBhJK1OJ18CeOnQCMDz7IWC2wN-NMq9kqyjUgGmDIzpqH-pyQkS7CVwLTAni6xyiO3VxmLFMLPonBwhP-LMkfLloBQ+nGsBgG-LXMPMTbbutMgsb1MWBN5QYl8B2aZkh2aQrTPNkDimIAcneOBqKFmaSRPgfDTEl0xB7Icv+jODMkqg4rlh4QGHDIOsyzZpNCM9BK1irmzpHBJmf6OWi4hhQAgpWY1OBnUISaksuak-WhlcBFD-ASeu2L+KYm4EUwl+jLEfklF45dgYeCZXfm-CQGrCJQ+8ViCUNo6LMDh+baKG7ElG0hNm7CTZAzTjx3ZfmQMfiGQWwI9Q4RP-DnsAjNIPNfAGQJdlYxbiT91UA3IpGNUbhAdRg2UKIFAHDZlNNiYHDdkEFJx9dT0xCCSCAztBa4VsE2F6E8Phou4jy3HM8HgjnqVBM2i6BgfFG57QN6+1tLSmkDbZeI5opXfriFwIhYsXcZIdEh5W3KUcqRS-LRGGR9E3lBE2sZckBiFE5AcaLMbfpEh44ItsE0nOse-WJSA9TQZRYUBC31CvwuGWHeloKmz5aJlM5OQJJqyO5j8MmcQ4nDBTR4lCcEIjHttr0YTd8sGhSBMj-gI5MoYw8URYaS0lTLUdIcKCtDHQ1aHM7R+5KMFKhUJ5d7UuCKASrXg7CRqqUgvbIIJm53N22DUESFUyiojiwUzoKVlWwiQWxaMDAhMNOnCBXgjIArD1h6RDYkizS76evkzTRos0PQeUfeNjC5rHjaGlubGLhQvGswDmtYpAKPnto7pIhreXeBW3d7SJBg3YXwoWMBEmCPajQ5QZQNXb9R9kWDLhHD2z7dg5of4FhNX15FuotegE4NIdgKHyifexLNoU9lgq7NWs73B6IHH8Axoa0sTDvO-mV4uAlgukYCO1DEZ4ZOGkTE0ZUEDIwohIMqM+GOVglU80W6iUMMiE6Y4dlshBKqnxRxQqMtEGIQSFhzx6Ixoq+5FmDO3gZN5eGciaGi0L4l8IM2YPbXqLBAwRRCQ6QJzD-z8kKhaaBgzwVh2MZUdCSLNSjACHJqHZ-C8WaxkUEupQELGP8QkrgPeaAF-ATkAdlrwdKoYvRwEUlsiSJo9sOppU7MuVgQ5IBE83IuWhjEYQ1hPaA7OrnMDwbpB-WA+CwAdQNFhJmm+xTkOlEbaNR-MOCXMg9jgbAwcsmnYdt1hTFehcO0IXICtA5LhshkwgR6M0AvTH8EwNEsApNG-ocTwgbyFTugyClADaI7IuqpeRgpVUbgCInDuKOTbzZsh3dKnqMO1IATVsycCML+EN5JQnJFONNmFMqykhiQmoESDezPJMNG4okKGVBkMqUjtUW3bQqtW6CsQHuMyaEJwFqwzJHIlvd-lS1Bq-VdYIIqFoL0OItodOCYIjDk3-Ffx4xoI6IgYIhLQ9JifIxcXiIMmvBfwoMYTiww5x4Y2icNOklwNQYatwS-zPZoslMJtUFSdQh-pWyenWTn0QLcDuyko4uMshaYpWSWi2yU9lCftY-NRJBjWlxGx5E2eFCfr0d0g6PZKOpEPZhAnqWGXsREBChAp9m5jMmcGg7E4I3ghYMusfnwF9TYYCLSBIGUaoYBDKExI8ZA0ZIkZWK27PbPFD6YPFteGvDiURFrBwhiQikxEcoRtJ+kVyLyEcE1McK3tbSJU9yoakgRJjlpJwCfFCTsEkF1SYEltt6izGyC+mq4y0jaVRIXjxBv6FYOnDdi+1Np0DOqJ6VBjLkWY91FwDyFnGBD5olaLnOpFcSXBkRz7MqRECJgG834aYucBgE7b5T+GIfBnn8CJBniZpv8tltSDkiLc7afDJvuGJFitBGoJctSnvjBRzQbg9BGtDaXoKlV5EIGQEL2lEL0zjMaIl4syPzbhAEQpoPPq2gEpsStphWK7rEUqy1g4g1YL+fAyfKWMOqA4rdIyhGF056ymybuEWN1o8gQ4hsFqcc1LxBcfZcpXgdrBJYz8yENYCMIAV-aSVqChhWYb4VHnPoTMpYFqTiCEysDB2-EqET4Ueijga0AEWyc3GizYCFQrA+vE1GKobNiQq0z2uIihkOl0gtcmNrzCuCkgPg6FOMXPj8anzYIIi4dIQoCiuAxMkcPyFQylJ9tvM0Fevjzlw7xpbFZNQqR6JIqmkOYPOIkTkFzYncRy6QbWEUyz7DsoMJM0cKIsI5z8oOkbJwrQ1rCHEnoB9fGKiNqTjsEy9CrNvIPRBQMBEPiQSLFBQ7sM58iGGMKXg0mDAmsREs8FrkKSUkvgkkOkKXgib2E6SdtKng4PxDWcTyeBdvtjL+A+z4yt-FAuB287hjawc6NdEh0QXmYvUhsSNrvm7Sjy0FLVBcBj3OmR9Ai2fCKCUXahXlhiS1VwZU3D4Dt6WAw4wEwCIC2AIAYAAABQABKcwBwFwD4AlgdARgHwBAADEWgSANACAAAC+mAIQKIHECUAaA5K5gGwGJUaAVAagCQBoC0DuBhAOAHANIAoCoocA2gIwHoDkCirYAEAIgLioADkpgOoOYCVX4qmAYAYQNIFxW4rpAwq0VeKqID4qpVAAPnMiGqxVqKGYJYExXYq8VhK84HarlUKrcVAAelVU4AAA1O6tKBOrLAdq7VbqtxXcB8AUAU1QYDNXaAw1sAKAEwFdWKqlVSADVU6qdXmABVOgWwPAAACO1ACANmqgAAAxCAOGslVGB+ASq9UEqswDaAlVDIGtXWvlCNqlVFoFtT8BbVYgW1jwJVQAF0zgma7QAADdhA8qqAAAAUrVxq8tUKpFXWqiAOAJgNwFgAkBbAeqg1XOuNWRro1wANaBSp0CxqoAM6jdUatRRaqdVeq-gAAGsbAva7ddoBvXWAA12gbNUQGoD6hs1eagtaQBLVlqmA8AIdfAFWB6rP1+awtb+rjX3rD1i6qQKEGoAT0cAuK0Dd+uLWlrINTq+lemoYACqqA8AJgLAAoClBcVI6sdZOs3USr8N8ABgOUCCBOriVeAQgByspWmgZ0DK3tfSqAA)

## Part 2

> Same as Part 1,
> but now the fields have specific requirements.
> `cid` (Country ID) is still optional and ignored.

First of all,
let's modify each item in `passports`
from e.g. `[['byr', '1950'], ['hgt', '160cm']]`
to `{ byr: '1950', hgt: '160cm' }`.
This can be done with good ol' `reduce()`:

```js
const passports = input.split('\n\n').map((passport) =>
  passport
    .trim()
    .split(/\s+/g)
    .map((field) => field.split(':'))
    .reduce((acc, [key, value]) => {
      acc[key] = value
      return acc
    }, {})
)
```

I know I could have written the reducer like this:

```js
const passports = input.split('\n\n').map((passport) =>
  passport
    .trim()
    .split(/\s+/g)
    .map((field) => field.split(':'))
    .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {})
)
```

But I don't want to.
It's uglier and slower.
(The performance difference is negligible here.
I know that too.
:wink:)

And now we can update the filtering
with the required field validations.
Because each item in `passports` is now an object,
we can use destructuring
and create human-readable aliases for the field names
to improve readability:

```js
const validPassports = passports.filter((passport) => {
  const {
    byr: birthYear,
    ecl: eyeColor,
    eyr: expirationYear,
    hcl: hairColor,
    hgt: height,
    iyr: issueYear,
    pid: passportId,
  } = passport

  if (!birthYear || birthYear < 1920 || birthYear > 2002) {
    return false
  }

  if (!issueYear || issueYear < 2010 || issueYear > 2020) {
    return false
  }

  if (!expirationYear || expirationYear < 2020 || expirationYear > 2030) {
    return false
  }

  if (!/^\d{9}$/.test(passportId)) {
    return false
  }

  if (!/^#[a-f\d]{6}$/.test(hairColor)) {
    return false
  }

  // 150-193cm or 59-76in
  if (!/^((1[5-8]\d|19[0-3])cm|(59|6\d|7[0-6])in)$/.test(height)) {
    return false
  }

  if (!['amb', 'blu', 'brn', 'gry', 'grn', 'hzl', 'oth'].includes(eyeColor)) {
    return false
  }

  return true
})

console.log(validPassports.length)
```

[_flems_](https://flems.io/#0=N4IgtglgJlA2CmIBcBGADGgNCAzvBAxgC7xTK4D2sArkRBQHYB0AVjiNgGYQLtIDaoBgEMwiJCAgMADrVbtsBRiQZFyShjiIACKbJ0BebQAMAOg23b4ATwBOSAExoHAFm3ToSAGxfXaH67aABYEsEgAxAScwmgA7FDaAEZ2qACcLrG6KU4oAKxWoUiiicEA5kSouWgEYObmlhDZaCgAzEkpKKmpmUHlqAAcDjXBhZHwiS3CKPVWTQ6xM-CFpbbW2gSe6A7uns39KA79uS25dRZlFV4oUln2OW4eUEipKF4tebkubiFh4bEtLUGaAKYQoRCCZ0sPwiwm6-RcDkWcy87XsnX6wKWYRWFkeSFiDi8uU6uS8qQuAxcww2T1a20ad2a0wYi2Wtgs0PCXkSnwROyeV26LhaDk6608ZIpKFiXmGNkZ81ujmaiPOyTRqQxkJBSES7NRaUlDOVKBcM16FVeVLAswVwLxmvmqR8AJGvy8zlS821WKQpTARBmxvRmXlypa5LxeRQ0beBqc-nNhUS0USaCg2ppqGlSd+8E4BAImqDTXQ-KQIvmnRQ-Ra5r60tltXOYacThm6rSuQWLeT7O1nZJ3wbsX6w05gM4sU4CTxtf6+xFvh1iRoSIV5ONOVSPrmbV9xSVbeBg69mTxrgc3bQC5RnJr0pQCQtaSGzZLGtSwKzDlS+RfrQoOWNaxMMnb3KyYQAB6rG6SAAF7rq+-Q+oUQTwbAHYdH+dYtnucHhP0PhHD2UINvswxbs09qeKS+xHKSPZYYyLTApynAcRxCS+uEwguMIuTOlKXhjs2DTYS0KKts436eL+KJRiJo4+DKA5NKxR7OFJ2GxN8hTTgQwgCTqtAEDMUZfjU9aXKB75qvh0ktD0fSCVZvZhLA8G2HB8GaYS5bhPAsI3rhzHKmgbTQr5L4vEqnRfrayqBDxBwtFA-zmZ4LjwukDisWpCrbNJTiaRpvr+oG5wAS8wx4icaCpACBzHARC79KOpwsucwZdGa7kRAQaWkm44EYDuVUNr446FACXguJqAXwF0UANTMP4LkhnSigVr5uD+CVUWWB5gCUxVoNZlRNgR8QtGmBDlrEf7zbEVqZp4rFAYdzk2W5UKjG1HU6uEaAuGguSJOSp5zQ9cQkcS-SJZ0qldZY5WwXiGTChF-heB+JpAfe+wvc+k25GB2GiolbZ9bmETcryRWFIeVEldVKC-QanTzeKTwfZlTxxLk8JEoMVOetqnKwqOfJZjWKKHX1qNstYF3VnK+F4nNuSfP0zrjZYp6ktqUafNNYS+eVAZxZq5IvmSNxZi1o3oBLfQEuTCq4aj6l6ebQOcLkripPA1vdAFj3CFOwi7ixCPO51ZEVLE1Q2mjOjQqkUBC1M1v+Zrv4NYcCLnSj5a+De3aPW4xWqgb2FVKrrliQRBDjJMQHHSUh2dZtT1A8IiRDPADyeOEprwKQGbdU0q1VYUv7D-CYVttsL7-G5F1N-GWk844Lj5CzJfexu5ZxBGwoHOSvroZhc+-IkPiB9HpcK9veQEVL8JFXM+sBXSDUoQmpaKoOowQQlLgBYkNweLOniNzYqd5RgPmJvzCsX9WIEhRKeFoitNI1m1IfMWlNsHnk8P8KoGQnJAVloJFcNApSxFsgRBwDhEiMJpv1PUHJRj0y+NsKM0oMQygWrLMGeCsE6W+gMFoG9+o3wIrwvk2CvZ4MjO9bK2UvDJ1rkQtiDZGqyLrhqQ4kE-SrCQm2BG7FOIznLN2GM81-C-0OqvEcZM7KWDqoJdAgxix4QVFIvIokdTM1LLjO+dNPTehfnMTI8dVYvBuFGGSAIPo6hgirfx4YCY8KiUxfqYDd6vEioUXyCswpc2HJadezdiqkKeMDQOVJmSmK4cvbGFIXrqw1O8IpRI8FsVGFEGI8RUFVGdMXPxqsfB+VkrzG8FjnD8M8H+EGbxA6kTfpsqKqEwjFEWXlTmXpcEOmooCZwUjk5SDxjkQZ5sdpIx0YdFR0IoA+FSMIEmlxrS71cKGJBHzhD+WKqFIB+Icm-BsTOCp3QUSiIRo5QBStsS2B0IdBGFkU4ENLJsqG+42QcjcRzRSDU8jzExHMKxQzohxCnmMskulmgaQAl0m0nJ-iAnbP1FYaxipuEIaeDKpcSE3OaFJZWUoKI2jxIHaUYNBg9FGA-IkDhhBEMyPtHuYK8hXV9KuagqjWrEW7KggILgQI1m3hgIhHCjFpBemXRqVwPRdFpoFAsRYkUMPceInUPKDmgvEoyVoBzcFo0yZ4rKppfyfFiqeIiqsFxmwiMqp+MckrbEFQfOYR8-X6izCJD+cIESN3ZtKuSv4MTn0Db8oWeCdHXwwu05oBzmR-V+ERES3ZyxdDBl+UUgT3YeN3gCSG9dFUduNfUiswpsoYCuGLCMCSy2iu2v1Uyb0niHAhQhOh1B2klSjEudIrFtJ2mtscCWuTfzRLtZ0V0xUvUASJHKCV6Ky5Cw0VcfJyKkBgMTcE2WZY8RgwZaSA6YSjkgJBS3GlozS5ZhwavUYULuJzBOZsY42ssNjo1LpUxPKpQ1RtIfHa24gavDQKQfc2Eug+TWpsFwClNh-jJBGAkUom7YuDfkRyejLTEaOY9UxgUCDZX+D29IMYnJEVgyMul5wZWByai6gj-ZtWsqIch++j9VWrpPBJFpGmmGHRok8RqoMhYNV-mdVpa57Iai0Qx2kBxrpQFutUbjSUn0NkBM5gYdyEIHOWbzQ4RIfC+CAqNZw6bjyis6G6z+fIozzVNO1aDfZCXANSBzeN1D3pLoQ+osNcwovYULXiRhjCiIg02WjLLr5k2EQXB1eLWrE6oBqYs-KES-gAiBGXLYhI5qZvrntTwWpp7BvxWEfVDyuhXz3KYw8DoDimmJCY7VUq2tFulqqA5gSk3NxA0I6M+8CI4JQPAVoeCVG+n-Q5w07WGEpyg8CZ5qDqKfEESVgJOp4IA9psIW6wh4CAISa9vlQMvBQFbrDntDV3jOiXlN-GUHbalKKYMWLzgvWHUQe6PKQLODlicPCaU3ZRvGPJLLJyOob7TNsle90PI+FqeFRJL1MHENxE3qkG4r8Lxg0JPsfextdiY11ocXjyI3WptVUcrlQaTQJ0lTI1Oytdm6noZyKo-Qwdd0g2GIcnGy2nyIrEDZIDTxcvi2VjU+xJVNn8zGCddNWd8k7qgy3IkME3YQTjundU5pMYyHWqKeaIENlc887eLCtcM-OAW-Imsq7tS5jC2Tz6ctsupfJoh2bpubtfDCymeJwi5E4GD3pPFOCJEHhDCkU1U46U+uh2miEIF59pUQ8JHXdLXNR9uUxGTTUsLJAAqnaRselwQXYvKxJKf8tLG0QVkVJpM+5fqTknaSJkbGr3I45YNHPWaNXUYaAUxRHpLR7YtOd0RjeWmBhsRB8HPe0bzLLc245yhsxgUzokWpIcy3gOiL4gkb+2qPgTWN0d08WfeK4+omKHMtmj2CYRmx8SUba9aCiHuDaTMJ0wkOeqCeseQGARwpez2eq2+RKNop4XovqGMZKDUmC6q-mHGO+U6XmOQ2yowHKA22CCKOapOukmif4Vik06uzOSALgAcMA+WvMkkke1svS+cBwhwzQ3Q7Srwi62y5Er+XU8WcS2EoMBewEZBjoYikCK6W+RWtI8evWii+2vW+YhYfiyux4MMT0RwGQDCxBWSTgZUEqWaxeA6rULWR+xUNmaEGEt2wEHoYMOCX40yV09BzhmB1MWOCM+OcEHEkwtCvoGSpOzoJwlurmo0hIrswCPypmdmBqlWcq5qbwI0FMCMsseUB2iWxa6R5YEY6AMYTgvGMRsARGZuORj6vyju2CtqRydOdsuQg+kaAoWi3Qxwos4avyycNq8WPRLKOep8RIgc7UHRvWAMR+JCRCeOK+9OTaMSf2P4C6jk-yvwcO8QKemGm+7aFYwgGIBA9uSUts+hkBGRuOjcTC7K-WSuOBeq9ChsIWzwZBbwhIbQiGJwOOhynIrhnqx+X4vggkXwRyjxBKnGPq6KoRvhF4QivIj8RC2B924Iy6uWrR8WJShOkwDgnAOOeQB62B0IoMUAHJ90ds+xJs+xlslUqslu3SaQDBiGhwpObwMY1mzxEQ8AxwNsb8vsMI3Rfk4SqCqWEYWiNesSDCb4CiROHJu8DBX0RytYke0h4QqG8Wcc2EdpDR+8Lwpo5+KKFgxUvJk0WKs+sSF0bw0CyYsJrp067GJRcQmQ76nIrcEwUw6Jehlo8IHMnIThOB8a3p2u9RLGvgxxYMXm8UXOwx3uxx6AJwQk9B2BP4lui6v8LKPy0I6Yqqby3B1EBEWJ7hRyDB8x0pgRGK70tYeUHormBaCKhQnktgVRaQaADsmwt6RyFJtEeQBIQIGOvw-BJUr8ncuinZ0olxbqvg7JnJj2nQ0M9WwEmoTGjC6QRBhiJkRAZkYKW80WcZ6kua0IsQwgYmUAp06kw5DSBI-gBAepQ+1EHetJiBUe1SKJE2CBFkCIoMj0-xSMz2DoOCG5HoOCIZUhqO8U38LEWpPgEUKAp0bIOgNu40YyjUEYusIMsxm4pYW5KaumaqGxIKF0ycT5tZ8WgJloc0tUckgwRwrgMYI6phXuvWl212NGAS6Juae5xJnBXagSQsTJPSQEdUA62UgkP6VpLpnshq5e2UU4qQ55Xx68C4xF9q6+wC1ws+hQG6dxSULySCRMT4YyLCooUujZzaEhScZpPEAF-QUApoJZgBmxv24YI89hV4SJOi0W4qYQUADA8AtMmoZMDgCmXxjpK0AIiQByqVeZ8BMKLUkCnxdiWknQEUEFdqOQ7xtIW8LMqukCwSxuJ6Pk9pzls29C+OqCX8oMDUDcvWO5uaDxCBdSsx-pQlNhRhRGr29B8V+I-g14sCpi8ihMj4U8lgssk2LuYcQu80gcEWISJ0PFC5FgOR2CBOEQmoBAiQ8AClSUmFtE2s80Lwm2d63QBMbsTl-mdpMJ+6vWwyPedSCesR5Sim70IM268IvyTkkpZup4fIO+ERMuDuDVBeYyj0gIxwWx1UBF+VBADUTGJOgqLFwa01BBJQ60MxURK5-+jgo4VYMa7Obq4N8Qmxc1nWb4+m4uTw-wFOhIpouitpKiP42UoC4IfhHMNp1inEeV9GSeckEUi6jMvwLQnAmcaUTePqGM8NwsC4+QzsziJhONLKZuXFwZkFIa417md0PaLCptwmF5f4VBX+z6PyUMbFkQKYOWaiAsLCBI80jufGcR0tMxz6Zpgqy+PGLtluV45NF27mTIe6Aac565KBOaqCLCBwRE3VStXEF1huwaxlaQYublw+ARzgZttGUZ5qvIIoDlnWPyQGd25ZpcR6OUgR2mSAL1xwzgQMhkoOUAmVWS962B0W-1wC8stG4OsN5ma2QIGkB1glqAy4nI8wsQEwFt02RCq+Dk4ZoNB2BETpnC6m+1cNCdJoEijmv8c4EWgskl1UAtcF3gLgixZdFVXqlWTgwoUmTypYWNGa3+SZGBNqnG-hSxAwykG5bQg1BSctJd0KHtG0fVD16AKYU+l51NaOEeUOMqj0VQKdOioibd0o1oQt4KRdrg2sByVxNNJ5eSdRUGuCP4xIkqH9raF25q8lv9HtroexlEpYOluwtY0oeUrwUVC0RDJhuCKVx+xwkk7UfmUBmIowmcAknAChjgVwDpsBnm9tPmQlPyZ0K5Wj-VZ9y9zwjUycrwMolxeaEaUGO6zW7UR+QGCBpG2qXoT5CjLEXdHkXkfkNO70-kdswSFRSFKyWiKFCWXevwSWWtuo19iu35I46ueCquxDmwwiWiEW82ZUcwzV+IXoZI5q7wkpYpmWXRe2bW2dWiHshoFKhU3ZHqvZWY7Ue69a+p7wi+faDp3Ne1R9AGr6Pp5u65gk3agh-TNdXZa+LuCyddlRdjC4mhMYnw4RXj-45ENhv6bSQZCobewaBmGo6NfBTt1QNxIxc4REEllTDCC1atTwTstGKiJskO6k7V-0mNnGOTKUhwhIN+pzWu-qdj2GnpaWbqE1WmnGNRpYyVEk+QqJS9+V8uz8cDtYgI-wwsCzHWTjg5zgx9DujN7enCEZGojDvWWLdi0oqx7wC95zwkzuPdmwAIHUyddRoaMKQqHhmhF9NiYzP4ShLKBF-mvl2hrJu6jkLNohhpuko4sFoqzKfQze2dBiNoXDTZnlu1nNHtf4D08wmzYM7T4YH+5zIz5NXgJO9ZYDJulWBINYTGJwQMMony6UVqBDOQQVlQrzv6FeDgpAaAJOjksrY8Xls4WUlu0Z2UMKTGfk-rgiT5LinGH9IJioNuM26TyTEQyCT4DLTkrtC4RSL0nZv4qsb9mOPEAIL1iQ90XVPWv1OCPaoMkk-wuxDYpsLeCoWpXIeBeCuKOkYadNx+ycyOJwCFvM1diaLZPC0oTkYDli-LQxoIDJpjD0JwQs31ONDxvJ3ePNF4rQTK7Gia1VGxyDJ5FpVlQMSRc0gFjIDU8R+xFRKbZICtlK6JvrYqme7V+iZpmZeSfSdWp9ZcZONYxIJcByv8UMZZNjiaOTh0Ej5mymMopogW7qbhGLsymeqHSARwTKVw8ClKMDMBNzr5Rz6mrSSBWUGI+80u-rRIi5s7FrK8ibCBwHN6n5PG2dHBtb9c2RJh-x5GdUusXQszHchQ6Vk9B6-4hQVI4VBAYzLKBhIm2sbyaJbz9qPaMYXolOeMW0HcQFlb06eQNDW2CxFgzsDa6k91+YUAGQYzPEc0ut4VQNONTNc4JbDD7815YrHj8Lh0TZPbsDQmhlDouk8M-WhJA7ozyhfGIZgN9ttFqXCSDgrHzwsVW0KLxiCnfsvopkAUN4BwPgKZhqcpldl5HjWZINL+IlW6JwCIWituHtgkByquc4X4EUTGV4st4CHWvgWXOCVK25kJMHUBYxpYwFCJzqcQsU9WFVHjXwhVnFZT2dmldBJhYLJoA9XIbDazpVhGmsG27w-gk3v68iiGphJ2VTooC68a91vEOpZJazZjAwgbmddjprXoIuGqckgIeCKbxwJLy5UMfz43nKl3R9vyN4DCwSE4AjN2FxF4X4mo6Aj0AyvVbqZxeTdNibbQSmmotWOhc+z67LgrSTJBGQUjpIITZibjUMWHclDtVPd42TYPaXRzA1kGADbrTgEmmZt7TDRGcdQn++a6IJOhEePUZbp307J6Im9e2st0qsV4DpPZ1XJRxRIMAIooJnJljat8RLQ6t2h567ebB6kbhbYzulqj-g7tRLX40CS2HLwt+8CT3Q-GW9PzpziulvhGSPV2N23cUrWhJzWBdFc0MYbwKiaNKp+qRSsUwfgjz6wSIXgeZmD1zgwg3IocbuMYnAhpkqMTG3-Usn6JquKVuPALxvkq1V6bIG0o2iYl82ZbO1xMqiqCSp3i6eW1txRLHoudG4WuxzpNtrJOVEGkF4IeIMSytpVSSAW80koMtDBl5yp6erLxcG3EVFjcQL6kuG9qyl5fbql9grLCceXH5E2fa9xI52jk42LmU5YQrliauqsuV9izN2O+nAVIqQEoM3y0gRQIwK5XDvuU75FtCEF4WZiqHFqCoU22rKVnGBrjNNpuidZ2NXBnhfMyEN4cQscTzSVQvi--PiD1klJ+8sCenYpAqmf7ZgLmhoXNnNntoFdUApAPPozUKCFI0am9ahk1lt4ItM+djViELEpzkCt8awSWDqSi5IxMeD9cKLt1rpEsjswWJGhAJNIXhRQgzPXtj0gR1MbGfZMbu7gZgOk8epeM9OAwxj9ZYY4tJbvbSyZpkvu15H2q0xJAeMBBWYBsnOH3h65t0MFL6LQ0dKCRG2dWSMqMWTS+QKiuCOXs9mF5nkcSukX8Mq0TThd40oQv7OmyzDGtje++DANMncSLUZUlSEUAwSZrS0sOqTXlnYW8DToIoviboPhjWZINQG8tbbpc3cHRshGzaXNMVEt6FIAhwgy7J8A9C8FIUIrBhJK1OJ18CeOnQCMDz7IWC2wN-NMq9kqyjUgGmDIzpqH-pyQkS7CVwLTAni6xyiO3VxmLFMLPonBwhP-LMkfLloBQ+nGsBgG-LXMPMTbbutMgsb1MWBN5QYl8B2aZkh2aQrTPNkDimIAcneOBqKFmaSRPgfDTEl0xB7Icv+jODMkqg4rlh4QGHDIOsyzZpNCM9BK1irmzpHBJmf6OWi4hhQAgpWY1OBnUISaksuak-WhlcBFD-ASeu2L+KYm4EUwl+jLEfklF45dgYeCZXfm-CQGrCJQ+8ViCUNo6LMDh+baKG7ElG0hNm7CTZAzTjx3ZfmQMfiGQWwI9Q4RP-DnsAjNIPNfAGQJdlYxbiT91UA3IpGNUbhAdRg2UKIFAHDZlNNiYHDdkEFJx9dT0xCCSCAztBa4VsE2F6E8Phou4jy3HM8HgjnqVBM2i6BgfFG57QN6+1tLSmkDbZeI5opXfriFwIhYsXcZIdEh5W3KUcqRS-LRGGR9E3lBE2sZckBiFE5AcaLMbfpEh44ItsE0nOse-WJSA9TQZRYUBC31CvwuGWHeloKmz5aJlM5OQJJqyO5j8MmcQ4nDBTR4lCcEIjHttr0YTd8sGhSBMj-gI5MoYw8URYaS0lTLUdIcKCtDHQ1aHM7R+5KMFKhUJ5d7UuCKASrXg7CRqqUgvbIIJm53N22DUESFUyiojiwUzoKVlWwiQWxaMDAhMNOnCBXgjIArD1h6RDYkizS76evkzTRos0PQeUfeNjC5rHjaGlubGLhQvGswDmtYpAKPnto7pIhreXeBW3d7SJBg3YXwoWMBEmCPajQ5QZQNXb9R9kWDLhHD2z7dg5of4FhNX15FuotegE4NIdgKHyifexLNoU9lgq7NWs73B6IHH8Axoa0sTDvO-mV4uAlgukYCO1DEZ4ZOGkTE0ZUEDIwohIMqM+GOVglU80W6iUMMiE6Y4dlshBKqnxRxQqMtEGIQSFhzx6Ixoq+5FmDO3gZN5eGciaGi0L4l8IM2YPbXqLBAwRRCQ6QJzD-z8kKhaaBgzwVh2MZUdCSLNSjACHJqHZ-C8WaxkUEupQELGP8QkrgPeaAF-ATkAdlrwdKoYvRwEUlsiSJo9sOppU7MuVgQ5IBE83IuWhjEYQ1hPaA7OrnMDwbpB-WA+CwAdQNFhJmm+xTkOlEbaNR-MOCXMg9jgbAwcsmnYdt1hTFehcO0IXICtA5LhshkwgR6M0AvTH8EwNEsApNG-ocTwgbyFTugyClADaI7IuqpeRgpVUbgCInDuKOTbzZsh3dKnqMO1IATVsycCML+EN5JQnJFONNmFMqykhiQmoESDezPJMNG4okKGVBkMqUjtUW3bQqtW6CsQHuMyaEJwFqwzJHIlvd-lS1Bq-VdYIIqFoL0OItodOCYIjDk3-Ffx4xoI6IgYIhLQ9JifIxcXiIMmvBfwoMYTiww5x4Y2icNOklwNQYatwS-zPZoslMJtUFSdQh-pWyenWTn0QLcDuyko4uMshaYpWSWi2yU9lCftY-NRJBjWlxGx5E2eFCfr0d0g6PZKOpEPZhAnqWGXsREBChAp9m5jMmcGg7E4I3ghYMusfnwF9TYYCLSBIGUaoYBDKExI8ZA0ZIkZWK27PbPFD6YPFteGvDiURFrBwhiQikxEcoRtJ+kVyLyEcE1McK3tbSJU9yoakgRJjlpJwCfFCTsEkF1SYEltt6izGyC+mq4y0jaVRIXjxBv6FYOnDdi+1Np0DOqJ6VBjLkWY91FwDyFnGBD5olaLnOpFcSXBkRz7MqRECJgG834aYucBgE7b5T+GIfBnn8CJBniZpv8tltSDkiLc7afDJvuGJFitBGoJctSnvjBRzQbg9BGtDaXoKlV5EIGQEL2lEL0zjMaIl4syPzbhAEQpoPPq2gEpsStphWK7rEUqy1g4g1YL+fAyfKWMOqA4rdIyhGF056ymybuEWN1o8gQ4hsFqcc1LxBcfZcpXgdrBJYz8yENYCMIAV-aSVqChhWYb4VHnPoTMpYFqTiCEysDB2-EqET4Ueijga0AEWyc3GizYCFQrA+vE1GKobNiQq0z2uIihkOl0gtcmNrzCuCkgPg6FOMXPj8anzYIIi4dIQoCiuAxMkcPyFQylJ9tvM0Fevjzlw7xpbFZNQqR6JIqmkOYPOIkTkFzYncRy6QbWEUyz7DsoMJM0cKIsI5z8oOkbJwrQ1rCHEnoB9fGKiNqTjsEy9CrNvIPRBQMBEPiQSLFBQ7sM58iGGMKXg0mDAmsREs8FrkKSUkvgkkOkKXgib2E6SdtKng4PxDWcTyeBdvtjL+A+z4yt-FAuB287hjawc6NdEh0QXmYvUhsSNrvm7Sjy0FLVBcBj3OmR9Ai2fCKCUXahXlhiS1VwZU3D4Dt6WAw4wEwCIC2AIAYAAABQABKcwBwFwD4AlgdARgHwBAADEWgSANACAAAC+mAIQKIHECUAaA5K5gGwGJUaAVAagCQBoC0DuBhAOAHANIAoCoocA2gIwHoDkCirYAEAIgLioADkpgOoOYCVX4qmAYAYQNIFxW4rpAwq0VeKqID4qpVAAPnMiGqxVqKGYJYExXYq8VhK84HarlUKrcVAAelVU4AAA1O6tKBOrLAdq7VbqtxXcB8AUAU1QYDNXaAw1sAKAEwFdWKqlVSADVQGsDVMBbApAagK3D1V-kCAmAbQPwAADWNgAtQADdhANAeAAAF1I10a4ALasDV5ri1NgatVKu0AVqq1jaywJmqIDUB9QeaxtYyu0DAB6VTqp1eYAFU6BO10AAAApWrjVkqowAapFXWqiAOAJgNwFgAkBbAeqldUatRR1qR1a0ClToAbXOqDQSQCAKiiCAABNIKLYEwCNrfQsweAAAGEqA4qp9RerDBWAoIHgWwMIA5X3rhAj6xtdCGCDCBr1H62AF+vA19Bgg8ACAKUCCBEBv1gapULoBFXUB4AIGsDRerxBCrV1xqgAJJQB0N2gele2v3VrqCEJOXFQAEJEg168EHhu0AAAfdjVepvVsaAAPNoC2jAhON3G1jQ+u0DRqEwDgU1eeow29r+1FgaILADwAzB6VdG7QIxogDYbcNYm4TZppwA4a+N2gW5Bxq416aDNYmiTTJGk2Nq5N+oRTcpvOCqaX49GhjfAH-XXqgN9ABgGxuE1uaANnmxgIZs8K+b3NgG4DRZqM3YxrNF62zQpsrUObLATmoMC5vdUAA9VVVAGACpB6VAAEndWYr4AWgfVQutRRkb8V0W2TfAD7V2b4tk9RLWpsY1pbwg-AYQAAFpOSpgKANWuABeBct+WkgEVqCBQbbAMG8VeVuPUxaqt8mmNbVpU3ah3V7qgTVUFa33phg4q7QIJFa0ygf6EAFLalr1UoB+AuQVrf0GrUZb2NnQfgGgFa0tBa1NQdjbisEjsbcYnW9jbECu2tavAtaqQPiry0FbBtSGlDSaoq2BrYtM2pTXVso0NaGN-AJVcUCVUFqlV+qBHdoCR3sgUdSqnlBjpxAY6b4GOsBEqurVMApAoQagBPRwC4qbA76z9bYHG0ybQdU2mrRDrm2lwwdWKnDeYDHVnABVVAeAEwFg2lBcVM6qAPOuI0Sr+d8ABgOUCCBOriVeAQgByspWfAZ0DK6tfSqAA)

The filtering method is a bit long,
but straightforward and clear.
It has lots of guard clauses &ndash;
my favorite!
I also aimed for symmetry,
something I recently read about in
[Jason McCreary's book _BaseCode_](https://basecodefieldguide.com/).
For example,
the year checks come first,
then the regex tests,
then the single `[].includes()`.

And look at that height validation!
Just beautiful!
I know, _horrible_!

At work we have a looong regex of whitelisted IP addresses.
It looks similar,
but is like 100&times; longer
and more annoying to maintain.
So while I could change the height validation to something more readable,
I'm going to leave the regex version for your amusement.

## What did I learn?

Like yesterday,
I didn't learn anything new from doing today's puzzle.
But I did learn something.

This repo doesn't (at least for now) contain any JS files,
so I haven't bothered installing Prettier via npm.
I also don't want to manually tweak formatting,
so I installed
the [Prettier extension for VS Code](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode).
Now when I save a Markdown file (like this one which you are now reading),
Prettier formats the JS code blocks too.
Nice!

While reading the extension's documentation,
I noticed it saying that
**it's not generally recommended to use ESLint to run Prettier**
(via eslint-plugin-prettier).
I didn't know that.
[Prettier's _Integrating with Linters_ page](https://prettier.io/docs/en/integrating-with-linters.html#notes)
lists some downsides:

> - You end up with a lot of red squiggly lines in your editor,
>   which gets annoying.
>   Prettier is supposed to make you forget about formatting &ndash;
>   and not be in your face about it!
> - They are slower than running Prettier directly.
> - They're yet one layer of indirection where things may break.

Makes sense.
Guess who'll soon&trade; separate ESLint and Prettier
[in my blog](https://github.com/mtsknn/mtsknn.fi)
and at work?
